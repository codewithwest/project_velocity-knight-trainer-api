{% extends "base.html" %}

{% block title %}Login{% endblock %}

{% block content %}
<div class="flex items-center justify-center min-h-screen p-4 relative">
  <!-- Glowing orbs -->
  <div class="absolute top-20 left-20 w-32 h-32 bg-cyan-500/20 rounded-full blur-xl animate-pulse"></div>
  <div class="absolute bottom-20 right-20 w-40 h-40 bg-purple-500/20 rounded-full blur-xl animate-pulse" style="animation-delay: 1s"></div>
  
  <div class="w-full max-w-md bg-slate-900/90 border-slate-700 backdrop-blur-xl shadow-2xl shadow-cyan-500/10 rounded-lg">
    <div class="text-center border-b border-slate-700/50 p-6">
      <div class="flex items-center justify-center gap-3 mb-4">
        <div class="relative">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="h-10 w-10 text-cyan-400"><polyline points="4 17 10 11 4 5"></polyline><line x1="12" y1="19" x2="20" y2="19"></line></svg>
          <div class="absolute inset-0 h-10 w-10 text-cyan-400 animate-ping opacity-20">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="h-10 w-10"><polyline points="4 17 10 11 4 5"></polyline><line x1="12" y1="19" x2="20" y2="19"></line></svg>
          </div>
        </div>
        <div class="text-left">
          <h1 class="text-2xl bg-gradient-to-r from-cyan-400 via-blue-400 to-purple-400 bg-clip-text text-transparent">
            VELOCITY
          </h1>
          <div class="text-xs text-cyan-400 font-mono tracking-wider">KNIGHT_TRAINER_API.SYS</div>
        </div>
      </div>
      <p class="text-slate-400 font-mono text-sm">
        SECURE ACCESS TERMINAL
      </p>
      <div class="flex items-center justify-center gap-1 mt-2">
        <div class="w-2 h-2 bg-green-400 rounded-full animate-pulse"></div>
        <div class="w-2 h-2 bg-yellow-400 rounded-full animate-pulse" style="animation-delay: 0.5s"></div>
        <div class="w-2 h-2 bg-red-400 rounded-full animate-pulse" style="animation-delay: 1s"></div>
      </div>
    </div>
    <div class="p-6">
        {% with messages = get_flashed_messages(with_categories=true) %}
            {% if messages %}
                {% for category, message in messages %}
                    <div class="p-4 mb-4 rounded-md {{ 'bg-green-950/50 border-green-500/50 text-green-400' if category == 'success' else 'bg-red-950/50 border-red-500/50 text-red-400' }}">
                        <p class="font-mono text-sm">{{ message }}</p>
                    </div>
                {% endfor %}
            {% endif %}
        {% endwith %}
      <div class="mt-6">
        <form method="POST" action="/" class="space-y-5">
          <div class="space-y-2">
            <label for="email" class="text-cyan-400 font-mono text-sm tracking-wide">
              EMAIL_ADDRESS
            </label>
            <div class="relative group">
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="absolute left-3 top-3 h-4 w-4 text-cyan-400/70 group-focus-within:text-cyan-400 transition-colors"><rect width="20" height="16" x="2" y="4" rx="2"></rect><path d="m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7"></path></svg>
              <input 
                id="email" 
                name="email" 
                type="email" 
                placeholder="user@domain.sys"
                class="pl-10 w-full bg-slate-800/50 border-slate-600 text-slate-100 placeholder:text-slate-500 focus:border-cyan-500 focus:ring-cyan-500/20 font-mono rounded-md border p-2"
                required 
              />
              <div class="absolute inset-0 border border-cyan-500/20 rounded-md opacity-0 group-focus-within:opacity-100 transition-opacity pointer-events-none"></div>
            </div>
          </div>
          <div class="space-y-2">
            <label for="password" class="text-cyan-400 font-mono text-sm tracking-wide">
              PASSWORD_HASH
            </label>
            <div class="relative group">
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="absolute left-3 top-3 h-4 w-4 text-cyan-400/70 group-focus-within:text-cyan-400 transition-colors"><rect width="18" height="11" x="3" y="11" rx="2" ry="2"></rect><path d="M7 11V7a5 5 0 0 1 10 0v4"></path></svg>
              <input 
                id="password" 
                name="password" 
                type="password" 
                placeholder="••••••••••••"
                class="pl-10 w-full bg-slate-800/50 border-slate-600 text-slate-100 placeholder:text-slate-500 focus:border-cyan-500 focus:ring-cyan-500/20 font-mono rounded-md border p-2"
                required 
              />
              <div class="absolute inset-0 border border-cyan-500/20 rounded-md opacity-0 group-focus-within:opacity-100 transition-opacity pointer-events-none"></div>
            </div>
          </div>
          {% if error %}
            <div class="bg-red-950/50 border-red-500/50 text-red-400 p-3 rounded-md">
              <p class="font-mono text-sm">{{ error }}</p>
            </div>
          {% endif %}
          <button 
            type="submit" 
            name="login_button"
            class="w-full flex items-center justify-center bg-gradient-to-r from-cyan-600 to-blue-600 hover:from-cyan-500 hover:to-blue-500 text-white border-0 font-mono tracking-wide relative overflow-hidden group p-2 rounded-md"
          >
            <div class="absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-1000"></div>
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mr-2 h-4 w-4"><path d="M3.5 7.5 2 10l5 2 2-5-2.5-3.5Z"></path><path d="m14 19-3 3 3 3 3-3-3-3Z"></path><path d="M22 2 12 12"></path><path d="m2 22 10-10"></path><path d="m15 6 3-3 3 3-3 3Z"></path></svg>
            <span>EXECUTE_LOGIN</span>
          </button>
        </form>
        <div class="text-center mt-4">
          <a href="{{ url_for('main.forgot_password') }}" class="text-cyan-400 font-mono text-sm hover:underline">Forgot Password</a>
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock %}